## 2022-05-09

Rustのサーバー実装してたら、同じcrateで別versionのdepsがあって、ハマった

https://stackoverflow.com/questions/70663707/rust-ndarray-mismatched-types

try_fromでconvertするようにしたけど、depsを一番下のversionに合わせて下げるほうが賢いかもしれない

---

sqldef、非常に良い感じなのだけど、issueを見つけてしまって、別案になりそう

https://github.com/k0kubun/sqldef/issues/233

手元にcloneして、test caseで遊んだ限りfunction callをCASTするのが駄目っぽい

sqlparserがMySQL用でGoのmysql packageからportされたものをpostgreSQL向けにも頑張ってカスタムしているっぽい

- https://github.com/k0kubun/sqldef/tree/v0.11.53/sqlparser
- https://github.com/k0kubun/sqldef/blob/v0.11.53/sqlparser/parser.y
- https://github.com/postgres/postgres/blob/f45f8b7ff3fe6c8b8139e177bb3fec7629ef9f05/src/backend/parser/gram.y

yacc分からん

postgresのgrammerはCallStmtで扱ってるのか、なるほど

postgresの`foo::int`、short syntaxなの初めて知った

SQL standardではCAST or CONVERT

https://stackoverflow.com/questions/13676816/postgres-data-type-cast/13676871#13676871