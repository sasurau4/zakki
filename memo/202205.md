## 2022-05-09

Rustã®ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…ã—ã¦ãŸã‚‰ã€åŒã˜crateã§åˆ¥versionã®depsãŒã‚ã£ã¦ã€ãƒãƒã£ãŸ

https://stackoverflow.com/questions/70663707/rust-ndarray-mismatched-types

try_fromã§convertã™ã‚‹ã‚ˆã†ã«ã—ãŸã‘ã©ã€depsã‚’ä¸€ç•ªä¸‹ã®versionã«åˆã‚ã›ã¦ä¸‹ã’ã‚‹ã»ã†ãŒè³¢ã„ã‹ã‚‚ã—ã‚Œãªã„

---

sqldefã€éå¸¸ã«è‰¯ã„æ„Ÿã˜ãªã®ã ã‘ã©ã€issueã‚’è¦‹ã¤ã‘ã¦ã—ã¾ã£ã¦ã€åˆ¥æ¡ˆã«ãªã‚Šãã†

https://github.com/k0kubun/sqldef/issues/233

æ‰‹å…ƒã«cloneã—ã¦ã€test caseã§éŠã‚“ã é™ã‚Šfunction callã‚’CASTã™ã‚‹ã®ãŒé§„ç›®ã£ã½ã„

sqlparserãŒMySQLç”¨ã§Goã®mysql packageã‹ã‚‰portã•ã‚ŒãŸã‚‚ã®ã‚’postgreSQLå‘ã‘ã«ã‚‚é ‘å¼µã£ã¦ã‚«ã‚¹ã‚¿ãƒ ã—ã¦ã„ã‚‹ã£ã½ã„

- https://github.com/k0kubun/sqldef/tree/v0.11.53/sqlparser
- https://github.com/k0kubun/sqldef/blob/v0.11.53/sqlparser/parser.y
- https://github.com/postgres/postgres/blob/f45f8b7ff3fe6c8b8139e177bb3fec7629ef9f05/src/backend/parser/gram.y

yaccåˆ†ã‹ã‚‰ã‚“

postgresã®grammerã¯CallStmtã§æ‰±ã£ã¦ã‚‹ã®ã‹ã€ãªã‚‹ã»ã©

postgresã®`foo::int`ã€short syntaxãªã®åˆã‚ã¦çŸ¥ã£ãŸ

SQL standardã§ã¯CAST or CONVERT

https://stackoverflow.com/questions/13676816/postgres-data-type-cast/13676871#13676871

## 2022-05-10

Laravelã§APIæ›¸ã„ã¦ã¦ã€client errorã§400ã¨422ã‚’è¿”ã™ã‚³ãƒ¼ãƒ‰ãŒæ··åœ¨ã—ã¦ã„ã¦ ğŸ¤” ã¨ãªã£ãŸã®ã§èª¿ã¹ãŸ

ã¡ãªã¿ã«æ··åœ¨ã•ã›ãŸã®ã¯blameã—ãŸã‚‰è‡ªåˆ†ã ã£ãŸã‚ˆ...

https://stackoverflow.com/questions/16133923/400-vs-422-response-to-post-of-data

GitHubã¯400ã¨422ã®ã©ã£ã¡ã‚‚ä½¿ã£ã¦ã‚‹ã‘ã©ã€422ã¯RFCçš„ã«ã¯WebDAV extensionç”¨ãªã®ã§400ã®æ–¹ãŒè‰¯ã•ãã†

WebDAVã£ã¦ãªã‚“ã‚„ã¨æ€ã£ãŸã‚‰ã€httpæ‹¡å¼µã‚‰ã—ã„

https://developer.mozilla.org/ja/docs/Glossary/WebDAV

---

Goã§é€Ÿã„lexeræ›¸ã„ãŸè©±èª­ã‚“ã 

https://eli.thegreenplace.net/2022/a-faster-lexer-in-go/

Go 1.2ã¨1.18ã§GCæ”¹å–„ã•ã‚Œã¦ã€generateã•ã‚ŒãŸcodeã®å®Ÿè¡Œé€Ÿåº¦å€ãã‚‰ã„é€Ÿããªã£ã¦ã‚‹ã®ã™ã”ã„

Goã®pprofä¾¿åˆ©ãã†

Goã¯é›°å›²æ°—ã§ã—ã‹åˆ†ã‹ã‚‰ã‚“ã®ã§ã€æ–‡å­—åˆ—ã¯stringãŒimmutableã§[]bytesãŒmutableãªã®åˆçŸ¥ã‚Š

GC friendlyã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã®é›£ã—ãã†

---

docker db initializeã«ã¤ã„ã¦

init-dbã¯å‰å¤§

https://stackoverflow.com/questions/26598738/how-to-create-user-database-in-script-for-docker-postgres


postgresã€CREATE USER IF NOT EXISTSã§ããªã„ã®ã‹...

https://stackoverflow.com/questions/8092086/create-postgresql-role-user-if-it-doesnt-exist

## 2022-05-11

### sqldefã®issue

https://github.com/k0kubun/sqldef/issues/233

é€Ÿæ”»å¯¾å¿œã•ã‚Œã¦ã™ã”ã„

USINGã¯bool exprã—ã‹å–ã‚‰ã‚“ã®ã‹ã€ãªã‚‹ã»ã©

ã“ã®æ‰‹ã®ãƒ„ãƒ¼ãƒ«ã§åå¿œé€Ÿã„ã¨ã™ã”ãåŠ©ã‹ã‚‹ã®ã§ã‚ã‚ŠãŒãŸã„

### actix-web-httpauth

https://docs.rs/actix-web-httpauth/latest/actix_web_httpauth/index.html

actix-webã§Bearer tokenã‚’å¼•ã£ã“æŠœã„ã¦ãã‚Œã‚‹ãã‚“

validatorã¯è‡ªåˆ†ã§æ›¸ã‹ãªã„ã¨ã„ã‘ãªã„

Guardã•ã‚ŒãŸAPIã§ã¯ã€tokenã‹ã‚‰userã‚’å–ã£ã¦ãã¦ã€AppDataã«æŒã£ã¦ãŠããŸã„ã‘ã©ã€ã§ããªã•ãã†

- https://gill.net.in/posts/auth-microservice-rust-actix-web1.0-diesel-complete-tutorial/
- https://users.rust-lang.org/t/jwt-token-extractor-actix-web/70455

middlewareã§æ›¸ãã¨ã€bearer tokenã‚’è‡ªå‰ã§requestã‹ã‚‰å–ã£ã¦ã“ãªã„ã¨ã„ã‘ãªã„

validatorã§middleware-ext-mutç›¸å½“ã®ã“ã¨ã‚’ã™ã‚Œã°ã„ã„ã‘ã©ã€validatorã§side effectã™ã‚‹ã®å«Œ

- https://github.com/actix/examples/blob/62ac6c0e23fe8143f866ebb178b2286a557898f8/middleware/middleware-ext-mut/src/add_msg.rs

ãªã‚“ã‹è‰¯ã„æ–¹æ³•ãªã„ã‹ã¨æ€ã„ã¤ã¤ã€ä½•ã‚‚è¦‹ã¤ã‹ã‚‰ãªã„ã®ã§è«¦ã‚ãŸ

## 2022-05-12

### Rust de DDD

https://caddi.tech/archives/2021

Rust ä¾¿åˆ©ã¨ã„ã†æ°—æŒã¡ã«ãªã‚‹